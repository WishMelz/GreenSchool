(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-xy-purchase-purchase"],{"0a56":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"purchase"},[i("cu-custom",{attrs:{bgColor:"bg-gradual-white",isBold:t.isBold,isBack:!0,url:"/pages/xy/shopDetail/shopDetail?shopid="+t.userid}},[i("template",{attrs:{slot:"content"},slot:"content"},[t._v("购买宝贝")])],2),i("v-uni-view",{staticClass:"purchase-bg"},[i("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt purchase-box"},[i("v-uni-view",{staticClass:"purchase-commodity-img"},[i("v-uni-image",{attrs:{src:t.Productdata.shop_img,mode:""}})],1),i("v-uni-view",{staticClass:"purchase-commodity-title"},[i("v-uni-text",[t._v(t._s(t.Productdata.shop_name))]),i("v-uni-text",{staticClass:"purchase-commodity-price"},[t._v("￥"+t._s(t.Productdata.shop_price))])],1)],1),i("v-uni-view",{staticClass:"purchase-site"},[i("v-uni-view",{staticClass:"purchase-harvest"},[i("v-uni-text",[t._v("收获地址")])],1),i("v-uni-view",{staticClass:"purchase-harvestaddress"},[i("v-uni-view",{staticClass:"purchase-location"},[i("v-uni-text",[t._v(t._s(t.sites.users_name)+t._s(t.sites.users_mobile))])],1),i("v-uni-view",{staticClass:"purchase-location"},[i("v-uni-text",[t._v(t._s(t.sites.dormitory)+t._s(t.sites.dormitory_no))])],1)],1),i("v-uni-view",{staticClass:"purchase-arrows",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSite.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"purchase-arrows-icon"},[i("svg",{staticClass:"icon",attrs:{t:"1573788562503",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2172",width:"30",height:"30"}},[i("path",{attrs:{d:"M268.373 908.63l60.587 60.074 456.704-460.373L328.704 55.04l-60.075 60.587 396.374 393.216z","p-id":"2173",fill:"#d0d0d0"}})])])],1)],1),i("v-uni-view",{staticClass:"purchase-pay"},[i("v-uni-view",{staticClass:"purchase-money"},[i("v-uni-text",[t._v("实付款:")]),i("v-uni-text",{staticClass:"purchase-price"},[t._v("￥"+t._s(t.Productdata.shop_price))])],1),i("v-uni-view",{staticClass:"purchase-affirm"},[i("v-uni-button",{staticClass:"purchase-affirm-btn",attrs:{type:"warn"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payment.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1),i("v-uni-view",{staticClass:"content"},[i("Modal",{attrs:{title:"确认付款"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)},event:function(e){arguments[0]=e=t.$handleEvent(e),t.event.apply(void 0,arguments)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"0c7c":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"modal-container",class:{show:t.showValue},on:{touchmove:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.cancel(2)}}},[t.showValue?i("v-uni-view",{staticClass:"modal-content",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t._t("title",[t.title?i("v-uni-view",{staticClass:"modal-title",class:{"modal-title-padding":!t.text}},[t._v(t._s(t.title))]):t._e()]),t._t("text",[t.text?i("v-uni-view",{staticClass:"modal-article",domProps:{innerHTML:t._s(t.text)}}):t._e()]),i("v-uni-view",{staticClass:"modal-row"},[t.noCancel?t._e():i("v-uni-view",{staticClass:"modal-col",style:t.cancelStyle,attrs:{"hover-class":"modal-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel(1)}}},[t._v(t._s(t.cancelText))]),i("v-uni-view",{staticClass:"modal-col modal-confirm",style:t.confirmStyle,attrs:{"hover-class":"modal-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v(t._s(t.confirmText))])],1)],2):t._e()],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"16b4":function(t,e,i){"use strict";var a=i("5d5c"),n=i.n(a);n.a},"1ce2":function(t,e,i){"use strict";i.r(e);var a=i("0c7c"),n=i("ee7e");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("ead9");var s,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"0c725feb",null,!1,a["a"],s);e["default"]=r.exports},"46c1":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.modal-col[data-v-0c725feb]{line-height:%?80?%}.modal-container[data-v-0c725feb]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;background:hsla(0,0%,98%,.1);visibility:hidden;opacity:0;-webkit-transition:all .2s;transition:all .2s;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.modal-container .modal-content[data-v-0c725feb]{width:80%;border-radius:%?10?%;background:#fff;overflow:hidden;-webkit-animation:fadeZoom-data-v-0c725feb .15s linear;animation:fadeZoom-data-v-0c725feb .15s linear}.modal-container .modal-content .modal-title[data-v-0c725feb]{padding:%?30?% %?30?% 0;text-align:center;color:#404040;font-size:18px}.modal-container .modal-content .modal-title-padding[data-v-0c725feb]{padding-bottom:%?30?%}.modal-container .modal-content .modal-article[data-v-0c725feb]{padding:%?40?% %?30?% %?50?%;font-size:14px;color:#999}.modal-container .modal-content .modal-row[data-v-0c725feb]{display:-webkit-box;display:-webkit-flex;display:flex;text-align:center;font-size:18px;line-height:%?100?%;position:relative;color:#404040}.modal-container .modal-content .modal-row .modal-col[data-v-0c725feb]{-webkit-box-flex:1;-webkit-flex:1;flex:1;width:100%;position:relative}.modal-container .modal-content .modal-row .modal-col[data-v-0c725feb]:first-child:after{content:"";position:absolute;top:0;bottom:0;right:0;border-right:1px solid #ccc;-webkit-transform:scaleX(.36);transform:scaleX(.36)}.modal-container .modal-content .modal-row .modal-confirm[data-v-0c725feb]{color:#007aff}.modal-container .modal-content .modal-row .modal-hover[data-v-0c725feb]{background:#f2f2f2}.modal-container .modal-content .modal-row[data-v-0c725feb]:after{content:"";position:absolute;left:0;right:0;top:0;border-top:1px solid #ccc;-webkit-transform:scaleY(.36);transform:scaleY(.36)}@-webkit-keyframes fadeZoom-data-v-0c725feb{0%{-webkit-transform:scale(.7);transform:scale(.7);opacity:.6}80%{-webkit-transform:scale(1.2);transform:scale(1.2);opacity:.3}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes fadeZoom-data-v-0c725feb{0%{-webkit-transform:scale(.7);transform:scale(.7);opacity:.6}80%{-webkit-transform:scale(1.2);transform:scale(1.2);opacity:.3}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}.modal-container.show[data-v-0c725feb]{visibility:visible;opacity:1}',""])},"5d5c":function(t,e,i){var a=i("8f80");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("379eed52",a,!0,{sourceMap:!1,shadowMode:!1})},"87b2":function(t,e,i){"use strict";i.r(e);var a=i("f022"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"8b9e":function(t,e,i){var a=i("46c1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("f3c9b7a8",a,!0,{sourceMap:!1,shadowMode:!1})},"8f80":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".purchase-title[data-v-0e02826e]{border-bottom:1px solid #708090}.purchase-bg[data-v-0e02826e]{padding-top:%?30?%;width:100%;height:100%;background-color:#f6f7f9}.purchase-box[data-v-0e02826e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;background-color:#f0f0f0}.purchase-commodity-img[data-v-0e02826e]{width:%?250?%;height:%?250?%}.purchase-commodity-img uni-image[data-v-0e02826e]{width:100%;height:100%}.purchase-commodity-title[data-v-0e02826e]{width:%?500?%;height:%?250?%;font-size:%?32?%;font-weight:700;position:relative;padding:%?20?%}.purchase-commodity-title uni-text[data-v-0e02826e]{overflow:hidden;text-overflow:ellipsis;white-space:normal ！important;display:-webkit-box;-webkit-line-clamp:3; /* 显示3行，为auto时不隐藏 */-webkit-box-orient:vertical}.purchase-commodity-price[data-v-0e02826e]{position:absolute;bottom:%?20?%;font-size:%?34?%;color:#f43f3b}.purchase-site[data-v-0e02826e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;background-color:#fff;width:100%;height:%?250?%;margin-top:%?32?%;color:#868686;height:%?250?%}.purchase-harvest[data-v-0e02826e]{width:%?250?%;height:100%;text-align:center;line-height:%?250?%;font-size:%?32?%;font-weight:400}.purchase-harvestaddress[data-v-0e02826e]{width:%?375?%;height:100%;text-align:right;font-size:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.purchase-location[data-v-0e02826e]{height:%?50?%;width:%?375?%;\r\n\t/*  */overflow:hidden;text-overflow:ellipsis;white-space:normal ！important;display:-webkit-box;-webkit-line-clamp:1; /* 显示1行，为auto时不隐藏 */-webkit-box-orient:vertical}.purchase-arrows[data-v-0e02826e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-left:%?30?%}.purchase-pay[data-v-0e02826e]{position:fixed;bottom:0;width:100%;height:10%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.purchase-money[data-v-0e02826e]{width:65%;height:100%;font-size:%?32?%;font-weight:800;padding-left:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff}.purchase-price[data-v-0e02826e]{color:#f43f3b}.purchase-affirm[data-v-0e02826e]{width:35%;height:100%;border-radius:0}.purchase-affirm-btn[data-v-0e02826e]{width:100%;height:100%;border-radius:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}",""])},babd:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"modal",props:{title:{type:String,default:"提示"},text:{type:String,default:""},noCancel:{type:Boolean,default:!1},cancelText:{type:String,default:"取消"},cancelStyle:{type:[String,Object]},confirmText:{type:String,default:"确定"},confirmStyle:{type:[String,Object]},prevent:{type:Boolean,default:!0},value:{type:Boolean,default:!1}},data:function(){return{showValue:this.value}},watch:{value:function(t,e){this.showValue=t},showValue:function(t,e){this.$emit("input",t)}},methods:{confirm:function(){this.showValue=!1;var t={from:"confirm",confirm:!0};this.$emit("confirm",t),this.$emit("event",t)},cancel:function(t){if(!this.prevent||2!==t){this.showValue=!1;var e={from:1===t?"cancel":"mask"};1===t?e.cancel=!0:e.mask=!0,this.$emit("cancel",e),this.$emit("event",e)}}}};e.default=a},ddd5:function(t,e,i){"use strict";i.r(e);var a=i("0a56"),n=i("87b2");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("16b4");var s,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"0e02826e",null,!1,a["a"],s);e["default"]=r.exports},ead9:function(t,e,i){"use strict";var a=i("8b9e"),n=i.n(a);n.a},ee7e:function(t,e,i){"use strict";i.r(e);var a=i("babd"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},f022:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("6b96")),o=a(i("1ce2")),s={components:{cuCustom:n.default,Modal:o.default},data:function(){return{isBold:!0,Productdata:{},commodityId:2,id:{},userid:1,sites:{},indent:{},show:!1}},methods:{commodity:function(){var t=this;uni.request({url:"http://gs.itsse.cn:9999/api/v1/purchase/"+this.commodityId,method:"POST",data:{},success:function(e){t.Productdata=e.data.data[0]},fail:function(){},complete:function(){}})},site:function(){var t=this;uni.request({url:"http://gs.itsse.cn:9999/api/v1/purchaseSite",method:"POST",data:{id:this.id,userid:this.userid},success:function(e){t.sites=e.data.data},fail:function(){},complete:function(){}})},changeSite:function(){uni.navigateTo({url:"../xy-site/XYsite",success:function(t){},fail:function(){},complete:function(){}})},payment:function(){this.show=!0},confirm:function(t){var e=this;uni.request({url:"http://gs.itsse.cn:9999/api/v1/payment",method:"POST",data:{commodityId:this.commodityId,userid:this.userid},success:function(t){var i=t.data.data,a=t.data.code;"400"==a?(console.log(1),uni.request({url:"http://gs.itsse.cn:9999/api/v1/createorder",method:"POST",data:{price:i,userid:e.userid,sites:e.sites,commodityId:e.commodityId},success:function(t){400==t.data.code&&uni.navigateTo({url:"../payment/success",success:function(t){},fail:function(){},complete:function(){}})},fail:function(){},complete:function(){}})):uni.navigateTo({url:"../payment/failure",success:function(t){},fail:function(){},complete:function(){}})},fail:function(){},complete:function(){}})},event:function(t){}},onLoad:function(t){this.id=t,this.site();var e=this;uni.getStorage({key:"storage_key",success:function(t){e.commodityId=t.data.shopid}}),this.commodity(),uni.getStorage({key:"user_id",success:function(t){this.userid=t.data}})}};e.default=s}}]);