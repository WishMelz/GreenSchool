(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-xy-xy-alertSite-xy-alertSite-xy-alertSite"],{"34e1":function(t,e,i){"use strict";var s=i("8e34"),a=i.n(s);a.a},5966:function(t,e,i){"use strict";var s=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(i("e814")),o=s(i("6b96")),n=s(i("e076")),c=s(i("8a32")),r={data:function(){return{siteForm:{users_name:"",users_mobile:"",dormitory:"",dormitory_no:"",address:""},checked1:!0,siteId:0,previousPage:""}},methods:{change1:function(){this.checked1?this.checked1=!1:this.checked1=!0,console.log(this.checked1)},formData:function(){var t=this;uni.getStorage({key:"id",success:function(e){t.siteId=e.data}})},alertSite:function(){var t=this;if(""!=this.siteForm.users_name)if(""!=this.siteForm.users_mobile&&(0,a.default)(this.siteForm.users_mobile)==this.siteForm.users_mobile)if(""!=this.siteForm.dormitory)if(""!=this.siteForm.dormitory_no){var e=uni.getStorageSync("user_id");uni.request({url:"http://gs.itsse.cn:9999/api/v1/alertSite",method:"GET",data:{msg:this.siteForm,checked1:this.checked1,id:e},success:function(e){1==e.data.ok&&(t.$refs.mpopup.open({type:"success",content:"修改地址成功",timeout:2e3}),setTimeout(function(){uni.navigateTo({url:"../../xy-site/site",success:function(t){},fail:function(){},complete:function(){}})},2e3))},fail:function(){},complete:function(){}})}else this.$refs.mpopup.open({type:"err",content:"收货人宿舍号不能为空",timeout:1e3,isClick:!1});else this.$refs.mpopup.open({type:"err",content:"收货人宿舍楼不能为空",timeout:1e3,isClick:!1});else this.$refs.mpopup.open({type:"err",content:"收货人电话不能为空并且必须是数字",timeout:1e3,isClick:!1});else this.$refs.mpopup.open({type:"err",content:"收货人姓名不能为空",timeout:1e3,isClick:!1})},deleteSite:function(){var t=this;uni.request({url:"http://gs.itsse.cn:9999/api/v1/deleteSite",method:"DELETE",data:{id:this.siteId},success:function(e){console.log(e),1==e.data.ok&&(t.$refs.mpopup.open({type:"success",content:"删除地址成功",timeout:2e3}),setTimeout(function(){uni.navigateTo({url:"../../xy-site/site",success:function(t){},fail:function(){},complete:function(){}})},2e3))},fail:function(){},complete:function(){}})},alertForm:function(){var t=this;uni.request({url:"http://gs.itsse.cn:9999/api/v1/siteShow",method:"GET",data:{id:this.siteId},success:function(e){t.siteForm=e.data.data[0],1===e.data.data[0].sdefault?t.checked1=!0:t.checked1=!1},fail:function(){},complete:function(){}})}},components:{cuCustom:o.default,"async-switch":n.default,mpopup:c.default},onShow:function(){},onLoad:function(t){this.previousPage=t,this.siteId=t.id,this.formData(),this.alertForm()}};e.default=r},"8e34":function(t,e,i){var s=i("9935");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("4f06").default;a("6426f4d9",s,!0,{sourceMap:!1,shadowMode:!1})},9935:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".addSite[data-v-6ec3dea7]{height:%?1330?%;background-color:#fff}.xy-siteBox[data-v-6ec3dea7]{width:%?690?%;height:%?100?%;border-bottom:1px solid #f0f0f0;line-height:%?100?%;margin-left:%?50?%}.xy-siteBox-left[data-v-6ec3dea7]{float:left;display:block;width:%?180?%;height:100%}.xy-siteBox-right[data-v-6ec3dea7]{float:right}.xy-siteBox-top[data-v-6ec3dea7]{width:100%;height:%?100?%}.xy-inDetail-textarea[data-v-6ec3dea7]{width:%?510?%;float:right;padding-top:%?32?%}.inDetail[data-v-6ec3dea7]{height:%?300?%}.defaultRess[data-v-6ec3dea7]{height:%?200?%}.async-switch[data-v-6ec3dea7]{color:#007aff}uni-input[data-v-6ec3dea7]{height:%?100?%;line-height:%?100?%}.site-bootom[data-v-6ec3dea7]{height:%?240?%;width:100%}.site-box[data-v-6ec3dea7]{width:100%;height:%?240?%;background-color:#fff;position:fixed;bottom:%?0?%\r\n\t/* left: 100upx; */}.site-addSite[data-v-6ec3dea7]{position:absolute;left:%?100?%;top:%?20?%;width:%?550?%;height:%?60?%;background-color:#f01809;color:#fff;text-align:center;line-height:%?60?%;border-radius:%?30?%}.delete-site[data-v-6ec3dea7]{position:absolute;left:%?100?%;top:%?100?%;width:%?550?%;height:%?60?%;background-color:#007aff;color:#fff;text-align:center;line-height:%?60?%;border-radius:%?30?%}",""])},c8cf:function(t,e,i){"use strict";var s,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"addSite"},[i("cu-custom",{staticClass:"site-nav",attrs:{bgColor:"bg-gradual-black",isBack:!0,url:"/pages/xy/xy-site/site?path="+t.previousPage.path}},[i("template",{attrs:{slot:"content"},slot:"content"},[t._v("修改收货地址")])],2),i("mpopup",{ref:"mpopup",attrs:{isdistance:!0}}),i("v-uni-view",{staticClass:"xy-name xy-siteBox"},[i("span",{staticClass:"xy-siteBox-left"},[t._v("收货人")]),i("v-uni-input",{attrs:{type:"text"},model:{value:t.siteForm.users_name,callback:function(e){t.$set(t.siteForm,"users_name",e)},expression:"siteForm.users_name"}})],1),i("v-uni-view",{staticClass:"xy-phone xy-siteBox"},[i("span",{staticClass:"xy-siteBox-left"},[t._v("手机号码")]),i("v-uni-input",{attrs:{type:"text"},model:{value:t.siteForm.users_mobile,callback:function(e){t.$set(t.siteForm,"users_mobile",e)},expression:"siteForm.users_mobile"}})],1),i("v-uni-view",{staticClass:"xy-area xy-siteBox"},[i("span",{staticClass:"xy-siteBox-left"},[t._v("宿舍楼")]),i("v-uni-input",{attrs:{type:"text"},model:{value:t.siteForm.dormitory,callback:function(e){t.$set(t.siteForm,"dormitory",e)},expression:"siteForm.dormitory"}})],1),i("v-uni-view",{staticClass:"xy-area xy-siteBox"},[i("span",{staticClass:"xy-siteBox-left"},[t._v("宿舍号")]),i("v-uni-input",{attrs:{type:"text"},model:{value:t.siteForm.dormitory_no,callback:function(e){t.$set(t.siteForm,"dormitory_no",e)},expression:"siteForm.dormitory_no"}})],1),i("v-uni-view",{staticClass:"xy-inDetail xy-siteBox inDetail"},[i("span",{staticClass:"xy-siteBox-left"},[t._v("详细地址")]),i("v-uni-textarea",{staticClass:"xy-inDetail-textarea",attrs:{rows:"3",cols:"20",placeholder:"街道,楼牌号等"},model:{value:t.siteForm.address,callback:function(e){t.$set(t.siteForm,"address",e)},expression:"siteForm.address"}})],1),i("v-uni-view",{staticClass:"xy-setSite xy-siteBox defaultRess"},[i("v-uni-view",{staticClass:"xy-siteBox-top"},[i("span",{staticClass:"xy-siteBox-left"},[t._v("设置默认地址")]),i("span",{staticClass:"xy-siteBox-right"},[i("async-switch",{attrs:{checked:t.checked1,color:"#007aff"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change1.apply(void 0,arguments)}}})],1)]),i("span",[t._v("提醒：每次下单会默认推荐使用该地址")])],1),i("v-uni-view",{staticClass:"site-bootom"},[i("v-uni-view",{staticClass:"site-box"},[i("v-uni-view",{staticClass:"delete-site",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteSite.apply(void 0,arguments)}}},[t._v("删除")]),i("v-uni-view",{staticClass:"site-addSite",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.alertSite.apply(void 0,arguments)}}},[t._v("保存")])],1)],1)],1)},o=[];i.d(e,"b",function(){return a}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return s})},ce43:function(t,e,i){"use strict";i.r(e);var s=i("5966"),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);e["default"]=a.a},f68a:function(t,e,i){"use strict";i.r(e);var s=i("c8cf"),a=i("ce43");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("34e1");var n,c=i("f0c5"),r=Object(c["a"])(a["default"],s["b"],s["c"],!1,null,"6ec3dea7",null,!1,s["a"],n);e["default"]=r.exports}}]);