(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-self_tag_sports-self_tag_sports"],{"13a3":function(t,a,i){a=t.exports=i("2350")(!1),a.push([t.i,".tag_icon[data-v-201dd2dc]{margin-top:%?10?%;border:%?1?% solid red;margin-right:%?30?%;width:%?40?%;height:%?40?%;text-align:center;line-height:%?40?%;font-weight:700;border-radius:100%}.check_title[data-v-201dd2dc]{width:%?600?%}",""])},"20d2":function(t,a,i){"use strict";var e=i("a5f7"),n=i.n(e);n.a},"68d3":function(t,a,i){"use strict";i.r(a);var e=i("d1ac"),n=i.n(e);for(var s in e)"default"!==s&&function(t){i.d(a,t,function(){return e[t]})}(s);a["default"]=n.a},"9cfd":function(t,a,i){"use strict";i.r(a);var e=i("f5cd"),n=i("68d3");for(var s in n)"default"!==s&&function(t){i.d(a,t,function(){return n[t]})}(s);i("20d2");var c,o=i("f0c5"),u=Object(o["a"])(n["default"],e["b"],e["c"],!1,null,"201dd2dc",null,!1,e["a"],c);a["default"]=u.exports},a5f7:function(t,a,i){var e=i("13a3");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("4f06").default;n("b3cf54ce",e,!0,{sourceMap:!1,shadowMode:!1})},d1ac:function(t,a,i){"use strict";var e=i("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,i("20d6"),i("28a5");var n=e(i("f499"));i("ac6a");var s={onLoad:function(){var t=uni.getStorageSync("user_id");this.id=t,this.getdata()},data:function(){return{modalName:null,inputvalue:"",tagList:[],baseUrl:"http://gs.itsse.cn:9999/api/v1",id:"",our_tag:[],num:0}},onUnload:function(){var t=this;this.our_tag=[],this.tagList.forEach(function(a,i){return 1==a.checked?t.our_tag.push(a):[]}),uni.setStorageSync("ourSports",(0,n.default)(this.our_tag))},methods:{showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},saveModal:function(){return this.tagList.push({id:this.tagList.length,tag_name:this.inputvalue,checked:!1}),uni.request({url:this.baseUrl+"/add_sports_tag/".concat(this.id),method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{tags:(0,n.default)(this.tagList),id:this.id},success:function(t){1==t.data.ok&&uni.showToast({title:"添加成功"})},fail:function(t){console.log(t)}}),this.inputvalue="",this.modalName=null},getdata:function(){var t=this;uni.request({url:this.baseUrl+"/our_sports/".concat(this.id),method:"GET",success:function(a){1!==a.data.ok&&uni.showToast({title:"请求失败",image:"../../static/toast/error.png"});var i=a.data.data.tag_sport_name.split(","),e=i;e.forEach(function(a,i){t.tagList.push({id:i,tag_name:a,checked:!1})}),uni.getStorage({key:"ourSports",success:function(a){t.our_tag=JSON.parse(a.data),t.our_tag.forEach(function(a){var i=t.tagList.findIndex(function(t){return a.id==t.id});t.tagList[i].checked=!0})}})},fail:function(t){console.log(t)}})},CheckboxChange:function(t){this.tagList[t].checked=!this.tagList[t].checked}}};a.default=s},f5cd:function(t,a,i){"use strict";var e,n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"self_tag_our"},[i("cu-custom",{attrs:{bgColor:"bg-gradual-green",isBack:!0,url:"/pages/edit_self/edit_self"}},[i("template",{attrs:{slot:"backText"},slot:"backText"}),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("我热爱的运动")])],2),i("v-uni-view",{staticClass:"bg-white fixed  padding cf"},[i("v-uni-view",{staticClass:"tag_icon fl",attrs:{"data-target":"DialogModal1"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.showModal.apply(void 0,arguments)}}},[t._v("+")]),i("v-uni-view",{staticClass:"tag_text fl text-red text-lg",attrs:{"data-target":"DialogModal1"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.showModal.apply(void 0,arguments)}}},[t._v("创建标签")]),i("v-uni-view",{staticClass:"cu-modal",class:"DialogModal1"==t.modalName?"show":""},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content"},[t._v("创建新标签")]),i("v-uni-view",{staticClass:"action",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.hideModal.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),i("v-uni-view",{staticClass:"padding-xl"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请创建你的标签"},model:{value:t.inputvalue,callback:function(a){t.inputvalue=a},expression:"inputvalue"}})],1),i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"cu-btn line-green text-green",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.hideModal.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-green margin-left",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.saveModal.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"tag_list"},t._l(t.tagList,function(a,e){return i("v-uni-view",{key:e,staticClass:"cu-bar bg-white",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.CheckboxChange(e)}}},[i("v-uni-checkbox-group",{staticClass:"block"},[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title check_title"},[t._v(t._s(a.tag_name))]),i("v-uni-checkbox",{staticClass:"round ",class:a.checked?"checked":"",attrs:{checked:!!a.checked}})],1)],1)],1)}),1)],1)},s=[];i.d(a,"b",function(){return n}),i.d(a,"c",function(){return s}),i.d(a,"a",function(){return e})}}]);